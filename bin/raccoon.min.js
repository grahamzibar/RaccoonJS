(function(){var a=new Object;window.Raccoon||(Raccoon=a),window.R||(window.R=a),function(){Array.prototype.removeAt||(Array.prototype.removeAt=function a(a){a>-1&&a<this.length&&this.splice(a,1)}),Array.prototype.indexOf||(Array.prototype.indexOf=function b(a){var b=this.length;for(var c=0;c<b;c++)if(this[c]==a)return c;return-1}),Array.prototype.remove||(Array.prototype.remove=function(a){this.removeAt(this.indexOf(a))}),Array.prototype.unshift||(Array.prototype.unshift=function(){var a=arguments.length;for(var b=a;b>0;b++)arguments[b]=arguments[b-1];return arguments[0]=0,this.splice.apply(this,args),this.length})}(),a.MAIN_THREAD="__main__";var b="",c={},d=new Array,e=!0,f=".js",h=".",i={},j=a.settings=new function(a,c,d,g){var i=this,j=!1,k="1.2",l=!0;this.version=function(){return k},this.async=function(a){return!a&&a!=!1?e:(e=a||window.importScripts,a)},this.devMode=function(a){return!a&&a!=!1?l:(l=a,a)},this.extension=function(a){return a?(f=a,a):f},this.delimiter=function(a){return a?(h=a,a):h},this.defaultPath=this.setDefaultPath=function(a,c){if(!a)return b;if(j&&!c)return;j=!0,b=a},this.addPath=function(a,b){c[a]=b},this.removePath=function(a){delete c[a]},this.setPaths=function(){var a=arguments.length;for(var b=0;b<a;b++)arguments[b].length==2&&i.addPath(arguments[b][0],arguments[b][1])},this.addNamespace=function(a,b){d[d.length]={rule:new RegExp("^"+a),path:b,levels:a.split(h).length},d.sort(function(a,b){return b.levels-a.levels})},this.addConfig=function(a,b){g[a]=b,b.path&&i.addNamespace(a,b.path);var c=b.scripts;for(var d in c)c[d].path&&i.addPath(d,c[d].path)}}(a,c,d,i),k=a.Console=null;a.initConsole=function(b){k=a.Console=new function d(a){var b=this,c={},d=[],e=0,f={},g={},h=0,i=new Array;this.notify=function(e,f){if(!!a.devMode()||f!="debug"&&f!="assert"&&f!="trace"){d[d.length]=c={type:f,data:e},b.onnotify&&b.onnotify(b.pop());var g="",h=0;while(c.data[h])g+=" ",g+=c.data[h],h++;return c}return null};var j=b.notify;this.log=function(){j(arguments,"log")},this.debug=function(){j(arguments,"debug")},this.info=function(){j(arguments,"info")},this.warn=function(){j(arguments,"warn")},this.error=function(){j(arguments,"error")},this.assert=function(){var a={};for(var b in arguments)b!=0?a[b]=arguments[b]:a[0]=arguments[0]?"Pass:":"Fail:";j(a,"assert")},this.count=function(a){if(!a){j([++e],"count");return}f[a]||(f[a]=0),j([a,++f[a]],"count")},this.dir=function(a){if(typeof a=="object"){j([a],"dir");return}throw"Requires an iterable object"},this.dirxml=function(a){if(a.constructor.name.indexOf("HTML")!=-1){j([a],"dirxml");return}throw"Requires a node object"},this.group=function(){j(arguments,"group")},this.groupCollapsed=function(){j(arguments,"groupCollapsed")},this.groupEnd=function(){j([],"groupEnd")},this.time=function(a){if(!a)throw"Name required to create timer";g[a]=(new Date).getTime(),j([a],"time")},this.timeEnd=function(a){if(!a||!g[a])throw"Name required to identify and end a timer";j([a,timeEnd],"timeEnd"),delete g[a]},this.profile=function(a){a||(a="Profile"+ ++h),i.push(a),b.time(a)},this.profileEnd=function(){if(activeProfile.length){b.timeEnd(i.pop());return}throw"A profile must be started before we can stop one"},this.trace=function(){var a=[],b=!1;try{throw"tracing"}catch(c){if(c.stack){var d=c.stack.split("\n");for(var e=0,f=d.length;e<f;e++)d[e].match(/^\s*[A-Za-z0-9\-_\$]+\(/)&&a.push(d[e]);a.shift(),b=!0}else if(window.opera&&c.message){var d=c.message.split("\n");for(var e=0,f=d.length;e<f;e++)if(d[e].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var g=d[e];d[e+1]&&(g+=" at "+d[e+1],e++),a.push(g)}a.shift(),b=!0}}if(!b){var h=arguments.callee.caller;while(h){var i=h.toString(),k=i.substring(i.indexOf("function")+8,i.indexOf(""))||"anonymous";a.push(k),h=h.caller}}j(a,"trace")},this.clear=function(){c={},d=[]},this.dump=function(){return d},this.pop=function(){var a=c;return c={},a},this.onnotify=null}(b);try{window.console=k}catch(c){k.warn("Unable to set global 'console' variable -- ",c)}},window.console?(k=a.Console=window.console,j.devMode()?k.debug||(k.debug=k.log):k.debug=k.trace=k.assert=function(){}):(a.initConsole(j),window.onerror=function(b,c,d){return a.Console.error(c?c:j.scripts.threadName,d?"@ "+d+": ":": ",b),!0}),k.info("RaccoonJS v"+j.version()+" settings and console modules are ready"),k.info("Raccoon API is initializing"),function n(a,c,d,e,i,j,k){var l=function(a){var b=new Object;for(var c in a)b[c]=a[c];return b},m={};a.getLibrary=function(){return l(m)};var n=new Array;a.getThreads=function(){return l(n)};var o={};a.getPackages=function(){return l(o)};var p=function(a){if(e[a])return e[a];var c=i.length;for(var d=0;d<c;d++);return b+(a.replace(new RegExp(h,g),"/")+f)},q=function(a){return a.indexOf("/")==-1},r=function(a){return q(a)&&(a=p(a)),m[a]?m[a]:!1},s=function(a){if(a.ready){var b=!0,c=a.dependents.length;for(var d=0;d<c;d++)if(!a.dependents[d].ready){b=!1;break}if(b)return;a.onready()}else if(!a.dependencies.length)a.onready();else{var e=!0;for(var d=0;d<a.dependencies.length;d++)if(!a.dependencies[d].ready){e=!1;break}e&&a.onready()}},t=function(a){return importScripts(a.url),a.onload(),a},u=function(a){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=a.url,b.onload=function(){a.onload()&&b.parentNode.removeChild(b)},b.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&a.onload()&&b.parentNode.removeChild(b)};var c=document.getElementsByTagName("script")[0];return c.parentNode.insertBefore(b,c),c=null,a},v=function(b){a.include(b,function(){s(b)})},w=function(b,c){var e=this;b!=k&&(m[b]=this),this.requested=!1,this.loaded=!1,this.ready=!1,this.url=b,this.name=c,this.dependents=new Array,this.dependencies=new Array;var f={},g={};this.addDependent=function(a){typeof a=="string"&&(a=m[a]);if(f[a.url])return;e.dependents[e.dependents.length]=f[a.url]=a},this.addDependency=function(a){typeof a=="string"&&(a=m[a]);if(g[a.url]||g[a.url])return;e.dependencies[e.dependencies.length]=g[a.url]=a},this.removeDependent=function(a){typeof a=="string"&&(a=m[a]),f[a.url]&&(e.dependents.remove(a),delete f[a.url])},this.removeDependency=function(a){typeof a=="string"&&(a=m[a]),g[a.url]&&(e.dependencies.remove(a),delete g[a.url])},this.callbacks=new Array,this.onload=function(){if(e.loaded)return!1;e.loaded=!0;var d=e.callbacks,f=d.length;for(var g=0;g<f;g++)d[g]({scriptName:c||null,url:b,namespace:c?a.registerNamespace(c):null});return e.callbacks=new Array,!0},this.waitingScripts=new Array,this.onready=function(){var a=e.dependencies,c=a.length;for(var f=0;f<c;f++)if(!a[f].ready)return;var g=e.waitingScripts;while(g.length>0){var h=g.shift();h&&h()}e.ready=!0;if(b==k){var i=n.indexOf(e);if(i==-1)throw"Top level thread is not accessible";d.info("Thread #"+(i+1),"loaded","["+e.dependencies.join(", ")+"]","and executed successfully");return}var j=e.dependents;c=j.length;for(var f=0;f<c;f++){if(j[f].ready)continue;var l=j[f].dependencies,m=!0,o=l.length;for(var p=0;p<o;p++)if(b!=l[p].url&&!l[p].ready){m=!1;break}m&&j[f].onready()}},this.unloadScript,this.unload=function(a){var c=e.dependents;if(a!=k){var g=m[dependenScript];e.removeDependent(a),a=g}else a==k&&c.length==1&&(a=c.shift());f={};if(e.name&&c.length==0){a.removeDependency(e);var i=e.name.split(h);for(var j=0;j<i.length;j++){var l=window,n=o,p=i.length-j-1;for(var q=0;q<p;q++)l=l[i[q]],n=n[i[q]];var r=i[p],s=!0;j>0&&(s=!n[r].count||n[r].count<2),s?(l[r].dispose&&typeof l[r].dispose=="function"&&l[r].dispose(),e.unloadScript&&e.unloadScript(),delete n[r],delete l[r]):n[r].count-=1}delete m[b];var t=e.dependencies;while(t.length>0)t.unload(e)}else d.warn("Cannot remove",e.name,"as other libraries rely on it")},this.toString=function(){return e.name||e.url}};a.registerNamespace=function(a){var b=a.split(h),c=b.length;b[c-1]=="min"&&(c-=1,b.pop()),a=window;var d=o;for(var e=0;e<c;e++){var f=b[e];a[f]||(a[f]=new Object),d[f]?d[f]+=1:d[f]={count:1},a=a[f],d=d[f]}return a},a.include=function(b,d){d||(d=function(){});var e,f;if(typeof b=="string"){e=b,q(b)?e=p(b):b=!1;if(m[e]&&m[e].requested){var f=m[e];return f.loaded?d({scriptName:b,url:e,namespace:b?a.registerNamespace(b):null}):f.callbacks[0]=d,f}f=new w(e,b)}else{f=b,e=f.url,b=f.name;if(f.requested)return f.loaded?d({scriptName:b,url:e,namespace:b?a.registerNamespace(b):null}):f.callbacks[f.callbacks.length]=d,f}return f.requested=!0,f.callbacks[f.callbacks.length]=d,c.async()?u(f):t(f)};var x=function(a,b){var c=args[i],d=!1;q(c)&&(d=c,c=p(c));var e=m[c]?m[c]:new w(c,d);listeningScript.addDependency(e),e.addDependent(listeningScript);var f=name.split(delim)[0];if(!j[f]||!j[f].scripts[name]||!j[f].scripts[name].dependencies||j[f].scripts[name].dependencies.length==0)v(e);else{var g=j[f].scripts[name].dependencies,h=g.length;for(var i=0;i<h;i++)x(e,g[i])}},y=function(a,b){var c,d=a?b[0]:k,e=!1;d!=k?(e=d,d=p(e)):e=d+"["+n.length+"]",m[d]?c=m[d]:(c=n[n.length]=new w(d,e),c.requested=c.loaded=!0);var f=b.length-1;typeof b[f-1]=="function"?(f-=1,c.waitingScripts[c.waitingScripts.length]=b[f+1],c.unloadScript=b[f]):c.waitingScripts[c.waitingScripts.length]=b[f],c.ready=!1;for(var g=a?1:0;g<f;g++)x()};a.imports=function(){y(!1,arguments)},a.require=function(){y(!0,arguments)},a.remove=function(a,b){var a=r(a);a&&a.unload(b&&b!=k?r(b):k)},d.info("RaccoonJS script loading system is loaded")}(a,j,k,c,d,i,a.MAIN_THREAD),k.info("RaccoonJS is ready")})()