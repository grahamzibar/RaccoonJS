(function(){var a=new Object;window.Raccoon||(Raccoon=a),window.R||(window.R=a),a.MAIN_THREAD="__main__";var b="",c={},d=!0,e=a.settings=new function g(a,c){var e=this,f=!1,g="1.1",h=!1;this.version=function(){return g},this.async=function(a){return!a&&a!=!1?d:(d=a||navigator.appName=="Microsoft Internet Explorer",a)},this.devMode=function(a){return!a&&a!=!1?h:(h=a,a)},this.setDefaultPath=function(a,c){if(f&&!c)return;f=!0,b=a},this.addPath=function(a,b){c[a]=b},this.setPaths=function(){var a=arguments.length;for(var b=0;b<a;b++)arguments[b].length==2&&e.addPath(arguments[b][0],arguments[b][1])}}(a,c);(function(){Array.prototype.removeAt=function a(a){a>-1&&a<this.length&&this.splice(a,1)},Array.prototype.indexOf||(Array.prototype.indexOf=function b(a){var b=this.length;for(var c=0;c<b;c++)if(this[c]==a)return c;return-1}),Array.prototype.remove=function(a){this.removeAt(this.indexOf(a))}})();var f=a.Console=null;a.initConsole=function(b){f=a.Console=new function d(a){var b=this,c={},d=[],e=0,f={},g={},h=0,i=new Array;this.notify=function(e,f){if(!!a.devMode()||f!="debug"&&f!="assert"&&f!="trace"){d[d.length]=c={type:f,data:e},b.onnotify&&b.onnotify(b.pop());var g="",h=0;while(c.data[h])g+=" ",g+=c.data[h],h++;return c}return null};var j=b.notify;this.log=function(){j(arguments,"log")},this.debug=function(){j(arguments,"debug")},this.info=function(){j(arguments,"info")},this.warn=function(){j(arguments,"warn")},this.error=function(){j(arguments,"error")},this.assert=function(){var a={};for(var b in arguments)b!=0?a[b]=arguments[b]:a[0]=arguments[0]?"Pass:":"Fail:";j(a,"assert")},this.count=function(a){if(!a){j([++e],"count");return}f[a]||(f[a]=0),j([a,++f[a]],"count")},this.dir=function(a){if(typeof a=="object"){j([a],"dir");return}throw"Requires an iterable object"},this.dirxml=function(a){if(a.constructor.name.indexOf("HTML")!=-1){j([a],"dirxml");return}throw"Requires a node object"},this.group=function(){j(arguments,"group")},this.groupCollapsed=function(){j(arguments,"groupCollapsed")},this.groupEnd=function(){j([],"groupEnd")},this.time=function(a){if(!a)throw"Name required to create timer";g[a]=(new Date).getTime(),j([a],"time")},this.timeEnd=function(a){if(!a||!g[a])throw"Name required to identify and end a timer";j([a,timeEnd],"timeEnd"),delete g[a]},this.profile=function(a){a||(a="Profile"+ ++h),i.push(a),b.time(a)},this.profileEnd=function(){if(activeProfile.length){b.timeEnd(i.pop());return}throw"A profile must be started before we can stop one"},this.trace=function(){var a=[],b=!1;try{throw"tracing"}catch(c){if(c.stack){var d=c.stack.split("\n");for(var e=0,f=d.length;e<f;e++)d[e].match(/^\s*[A-Za-z0-9\-_\$]+\(/)&&a.push(d[e]);a.shift(),b=!0}else if(window.opera&&c.message){var d=c.message.split("\n");for(var e=0,f=d.length;e<f;e++)if(d[e].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){var g=d[e];d[e+1]&&(g+=" at "+d[e+1],e++),a.push(g)}a.shift(),b=!0}}if(!b){var h=arguments.callee.caller;while(h){var i=h.toString(),k=i.substring(i.indexOf("function")+8,i.indexOf(""))||"anonymous";a.push(k),h=h.caller}}j(a,"trace")},this.clear=function(){c={},d=[]},this.dump=function(){return d},this.pop=function(){var a=c;return c={},a},this.onnotify,window.onerror=function(c,d,e){return b.error(d?d:a.scripts.threadName,e?"@ "+e+": ":": ",c),!0}}(b);try{window.console=f}catch(c){f.warn("Unable to set global 'console' variable -- ",c)}},window.console?(f=a.Console=window.console,e.devMode()?f.debug||(f.debug=f.log):f.debug=f.trace=f.assert=function(){}):a.initConsole(e),f.info("RaccoonJS v"+e.version()+" settings and console modules are ready"),f.info("Raccoon API is initializing"),function i(a,c,d,e,f){var g=function(a){var b=new Object;for(var c in a)b[c]=a[c];return b},h={};a.getLibrary=function(){return g(h)};var i=new Array;a.getThreads=function(){return g(i)};var j={};a.getPackages=function(){return g(j)};var k=function(a){return e[a]?e[a]:b+(a.replace(/\./g,"/")+".js").replace(".min.js",".js")},l=function(a){return a.indexOf("/")==-1},m=function(a){return l(a)&&(a=k(a)),h[a]?h[a]:!1},n=function(a){if(a.ready){var b=!0,c=a.dependents.length;for(var e=0;e<c;e++)if(!a.dependents[e].ready){b=!1;break}if(b)return;d.debug(a.name,"is ready and will again attempt to execute its",a.dependents.length,"dependents(s)"),a.onready()}else if(!a.dependencies.length)d.debug(a.name,"has ZERO dependencies and thus will attempt executing its",a.dependents.length,"dependent(s)."),a.onready();else{var f=!0;for(var e=0;e<a.dependencies.length;e++)if(!a.dependencies[e].ready){f=!1;break}f&&(d.debug(a.name,"has",a.dependencies.length,"dependenc(y/ies) but they are all ready.",a.name,"will attempt to execute its",a.dependents.length,"dependent(s)."),a.onready())}},o=function(a){return importScript(a.url),a.onload(),a},p=function(a){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=a.url,b.onload=function(){a.onload()&&b.parentNode.removeChild(b)},b.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&a.onload()&&b.parentNode.removeChild(b)};var c=document.getElementsByTagName("script")[0];return c.parentNode.insertBefore(b,c),c=null,a},q=function(b){a.include(b,function(){n(b)})},r=function(b,c){var e=this;b!=f&&(h[b]=this),this.requested=!1,this.loaded=!1,this.ready=!1,this.url=b,this.name=c,this.dependents=new Array,this.dependencies=new Array;var g={},k={};this.addDependent=function(a){typeof a=="string"&&(a=h[a]);if(g[a.url])return;e.dependents[e.dependents.length]=g[a.url]=a},this.addDependency=function(a){typeof a=="string"&&(a=h[a]);if(k[a.url]||k[a.url])return;e.dependencies[e.dependencies.length]=k[a.url]=a},this.removeDependent=function(a){typeof a=="string"&&(a=h[a]),g[a.url]&&(e.dependents.remove(a),delete g[a.url])},this.removeDependency=function(a){typeof a=="string"&&(a=h[a]),k[a.url]&&(e.dependencies.remove(a),delete k[a.url])},this.callbacks=new Array,this.onload=function(){if(e.loaded)return!1;e.loaded=!0;var d=e.callbacks,f=d.length;for(var g=0;g<f;g++)d[g]({scriptName:c||null,url:b,namespace:c?a.registerNamespace(c):null});return e.callbacks=new Array,!0},this.waitingScripts=new Array,this.onready=function(){var a=e.dependencies,g=a.length;for(var h=0;h<g;h++)if(!a[h].ready)return;var j=e.waitingScripts;while(j.length>0){d.debug(c||b,"is executing",j.length,"stalled function(s)");var k=j.shift();k&&k()}e.ready=!0;if(b==f){var l=i.indexOf(e);if(l==-1)throw"Top level thread is not accessible";d.info("Thread #"+(l+1),"loaded","["+e.dependencies.join(", ")+"]","and executed successfully");return}var m=e.dependents;g=m.length,d.debug(c||b,"is ready and will attempt to execute its",g,"dependent(s)");for(var h=0;h<g;h++){if(m[h].ready){d.debug(c||b,"is skipping the attempt to execute",m[h].name,"since it is READY");continue}var n=m[h].dependencies,o=!0,p=n.length;d.debug(c||b,"in relation to",m[h].name,"has",p-1,"sibling scripts");for(var q=0;q<p;q++)if(b!=n[q].url){d.debug(c||b+"'s sibling",n[q].name,"is",(n[q].ready?"":"not ")+"ready");if(!n[q].ready){o=!1,d.debug("Skipping checking the rest of",c+"'s","siblings");break}}o&&(d.debug(c,"is calling on its dependent",m[h].name,"to execute"),m[h].onready())}},this.unloadScript,this.unload=function(a){var c=e.dependents;d.debug(e.name,"has",c.length,"scripts which rely on it");if(a!=f){var i=h[dependenScript];e.removeDependent(a),a=i}else a==f&&c.length==1&&(a=c.shift());g={};if(e.name&&c.length==0){a.removeDependency(e);var k=e.name.split(".");for(var l=0;l<k.length;l++){var m=window,n=j,o=k.length-l-1;for(var p=0;p<o;p++)m=m[k[p]],n=n[k[p]];var q=k[o],r=!0;l>0&&(r=!n[q].count||n[q].count<2),r?(m[q].dispose&&typeof m[q].dispose=="function"&&m[q].dispose(),e.unloadScript&&e.unloadScript(),delete n[q],delete m[q]):n[q].count-=1}delete h[b];var s=e.dependencies;while(s.length>0)s.unload(e);d.debug(e.name,"has been successfully removed")}else d.warn("Cannot remove",e.name,"as other libraries rely on it")},this.toString=function(){return e.name||e.url}};a.registerNamespace=function(a){var b=a.split("."),c=b.length;b[c-1]=="min"&&(c-=1,b.pop()),a=window;var d=j;for(var e=0;e<c;e++){var f=b[e];a[f]||(a[f]=new Object),d[f]?d[f]+=1:d[f]={count:1},a=a[f],d=d[f]}return a},a.include=function(b,e){e||(e=function(){});var f,g;if(typeof b=="string"){f=b,l(b)?f=k(b):b=!1;if(h[f]&&h[f].requested){var g=h[f];return g.loaded?(d.debug(b||f,"is already downloaded"),e({scriptName:b,url:f,namespace:b?a.registerNamespace(b):null})):(d.debug(b||f,"is already requested but has yet to download"),g.callbacks[0]=e),g}g=new r(f,b)}else{g=b,f=g.url,b=g.name;if(g.requested)return g.loaded?(d.debug(b||f,"is already downloaded"),e({scriptName:b,url:f,namespace:b?a.registerNamespace(b):null})):(d.debug(b,"is already requested but has yet to download"),g.callbacks[g.callbacks.length]=e),g}return g.requested=!0,d.debug(b||f,"has been requested for download"),g.callbacks[g.callbacks.length]=e,c.async()?p(g):o(g)};var s=function(a,b){var e,g=a?b[0]:f,j=!1;g!=f?(j=g,g=k(j)):j=g+"["+i.length+"]",h[g]?(e=h[g],d.debug("**",e.name,"has downloaded and is now asking for its dependencies **")):(d.debug("** Creating new script loading thread **"),e=i[i.length]=new r(g,j),e.requested=e.loaded=!0);var m=b.length-1;typeof b[m-1]=="function"?(m-=1,e.waitingScripts[e.waitingScripts.length]=b[m+1],e.unloadScript=b[m]):e.waitingScripts[e.waitingScripts.length]=b[m],e.ready=!1,d.debug(e.name,"has",m-1,"dependenc(y/ies).");for(var n=a?1:0;n<m;n++){var o=b[n],p=!1;l(o)&&(p=o,o=k(o));var s=h[o]?h[o]:new r(o,p);c.devMode()&&(s.ready?d.debug(n+")",e.name,"requires",s.name,"and it is ready to execute",e.name+"."):s.loaded?d.debug(n+")",e.name,"requires",s.name,"and it is already downloaded but it is waiting on its",s.dependencies.length,"dependenc(y/ies) before executing."):s.requested?d.debug(n+")",e.name,"requires",s.name,"and it is already requested. It has yet to download."):d.debug(n+")",e.name,"is appending the script",s.name,"with source:",s.url,"to the DOM.")),e.addDependency(s),s.addDependent(e),q(s)}d.debug("**",e.name,"has been parsed and finished asking for its",e.dependencies.length,"dependenc(y/ies). **")};a.imports=function(){s(!1,arguments)},a.require=function(){s(!0,arguments)},a.remove=function(a,b){d.debug(b||f,"is removing",a,"from the DOM");var a=m(a);a&&a.unload(b&&b!=f?m(b):f)},d.info("RaccoonJS script loading system is loaded")}(a,e,f,c,a.MAIN_THREAD),f.info("RaccoonJS is ready")})()